<!--
<table class="table mt-3 mb-5 center-block w-75 mx-auto" xmlns:th="http://www.thymeleaf.org">
    <h2 class="header mt-3 mb-4 center-block w-75 mx-auto" th:text="#{viruses.all.title}"></h2>
    <thead>
    <tr>
        <th scope="col" th:text="#{viruses.all.table-header.id}"></th>
        <th scope="col" th:text="#{viruses.all.table-header.name}"></th>
        <th scope="col" th:text="#{viruses.all.table-header.magnitude}"></th>
        <th scope="col" th:text="#{viruses.all.table-header.released-on}"></th>
        <th scope="col"></th>
        <th scope="col"></th>
    </tr>
    </thead>
    <tbody>
    <th:block th:each="virus : ${viewModel}" th:object="${virus}">
        <tr>
            <td scope="row" th:text="*{id}"></td>
            <td th:text="*{name}"></td>
            <td th:text="*{magnitude.getNormalizedName()}"></td>
            <td th:text="${#temporals.format(virus.getReleasedOn(), 'dd-MMM-yyyy')}"></td>
            <td>
                <form th:method="get" th:action="@{/viruses/edit/{id}(id=*{id})}">
                    <button type="submit" class="btn btn-light btn-sm border-dark"
                            th:text="#{viruses.all.table-button.edit}"></button>
                </form>
            </td>
            <td>
                <form th:method="get" th:action="@{/viruses/delete/{id}(id=*{id})}">
                    <button type="submit" class="btn btn-light btn-sm border-dark"
                            th:text="#{viruses.all.table-button.delete}"></button>
                </form>
            </td>
        </tr>
    </th:block>
    </tbody>
</table>-->
<div class="container re-background mt-3 rounded pt-2">
    <h2 id="headline" class="d-inline-block">Your Choice</h2>
    <div class="float-right ml-5 mc-radio pt-3">
        <div class="custom-control custom-radio mr-5 d-inline-block">
            <input type="radio" class="custom-control-input" id="allViruses" name="inlineRadioOptions" value="allViruses" required>
            <label class="custom-control-label font-weight-bold" for="allViruses">Viruses</label>
        </div>
        <div class="custom-control custom-radio ml-5 mr-5 mb-3 d-inline-block">
            <input type="radio" class="custom-control-input" id="allCapitals" name="inlineRadioOptions" value="allCapitals" required>
            <label class="custom-control-label font-weight-bold" for="allCapitals">Capitals</label>
        </div>
    </div>

    <hr class="hr" color="white"/>
    <h2 class="mc-select-header text-center pb-3">Select, what data you want to visualize!</h2>
</div>
<script>
    $('input[type=radio][name=inlineRadioOptions]').change(function () {
        $('.mc-select-header').remove();
        $('.hr').remove();
        if (this.value === 'allViruses') {
            $('#headline').text("All Viruses");
            const table = $('#allVirusesTable').empty();
            table
                .append(
                    $('<thead>')
                        .append($('<tr>')
                            .append('<th scope="col">#</th>')
                            .append('<th scope="col">Name</th>')
                            .append('<th scope="col">Magnitude</th>')
                            .append('<th scope="col">Released On</th>')
                            .append('<th scope="col">')
                            .append('<th scope="col">')
                        )
                )
                .append($('<tbody>')
                );

            let index = 1;
            fetch('http://localhost:8000/viruses/all')
                .then(res => res.json())
        .then(res => res.forEach((virus) => {
                table.find('tbody')
                    .append($('<tr>')
                        .append($('<th scope="row">').text(index))
                        .append($('<td>').text(virus.name))
                        .append($('<td>').text(virus.magnitude.toUpperCase()))
                        .append($('<td>').text(virus.releasedOn))
                        .append($('<td>')
                            .append($('<a class="btn btn-outline-secondary re-background">')
                                .attr("href", `/viruses/edit?id=${virus.id}`)
                                .text("Edit")))
                        .append($('<td>')
                            .append($('<a class="btn btn-outline-secondary re-background">')
                                .attr("href", `/viruses/delete?id=${virus.id}`)
                                .text("Delete")))
                    );
            index++;
        })).catch(err => console.log(err));
        } else if (this.value === 'allCapitals') {
            $('#headline').text("All Capitals");
            const table = $('#allVirusesTable').empty();

            table
                .append($('<thead>')
                    .append($('<tr>')
                        .append($('<th scope="col">').text("#"))
                        .append($('<th scope="col">').text("Name"))
                        .append($('<th scope="col">').text("Latitude"))
                        .append($('<th scope="col">').text("Longitude"))
                    ))
                .append($('<tbody>')
                );

            fetch('http://localhost:8000/viruses/capitals')
                .then(res => res.json())
        .then(res => res.forEach((capital) => {
                table.find('tbody')
                    .append($('<tr>')
                        .append($('<th scope="row">').text(capital.id))
                        .append($('<td>').text(capital.name))
                        .append($('<td>').text(capital.latitude))
                        .append($('<td>').text(capital.longitude))
                    );
        })).catch(err => console.log(err));
        }
    })
</script>
<table id="allVirusesTable" class="table mt-3 mb-5 center-block w-75 mx-auto">
</table>